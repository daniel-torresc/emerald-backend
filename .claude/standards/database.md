### Database Selection

**MANDATORY: Use PostgreSQL exclusively**
- Use latest LTS version of PostgreSQL
- NEVER use MySQL, MariaDB, or other databases without approval
- Use PostgreSQL-specific features when beneficial

### Schema Design Standards

**MANDATORY: Follow these naming conventions**
- Use `snake_case` for ALL table names
- Use `snake_case` for ALL column names
- Use plural names for tables (users, orders, products)
- Use singular names for column names
- Prefix boolean columns with `is_` or `has_`
- Use descriptive, unambiguous names

**MANDATORY: Standard columns for ALL tables**
- `id`: Primary key (BIGSERIAL or UUID)
- `created_at`: TIMESTAMP WITH TIME ZONE, default CURRENT_TIMESTAMP
- `updated_at`: TIMESTAMP WITH TIME ZONE, default CURRENT_TIMESTAMP with update trigger
- Include soft delete: `deleted_at`: TIMESTAMP WITH TIME ZONE (nullable)

**MANDATORY: Constraints and indexes**
- Define foreign key constraints for ALL relationships
- Add `ON DELETE` and `ON UPDATE` clauses explicitly
- Create indexes on ALL foreign keys
- Create indexes on columns used in WHERE clauses frequently
- Create unique indexes on natural keys
- Add CHECK constraints for data validation
- Add NOT NULL constraints where appropriate

**MANDATORY: Implement update trigger**
- Create trigger function to auto-update `updated_at` on row updates
- Apply trigger to ALL tables with `updated_at` column

### ORM Standards

**MANDATORY: Use SQLAlchemy 2.0+ with async support**
- Use SQLAlchemy 2.0+ syntax exclusively
- Use async session management
- Use `Mapped` type hints for all columns
- Use `mapped_column()` for column definitions
- Define relationships explicitly with `relationship()`
- Create base model with common columns
- Create mixins for reusable patterns (timestamps, soft delete)
- Use declarative base for all models

### Migration Standards

**MANDATORY: Use Alembic for ALL schema changes**
- Initialize Alembic in project: `alembic init alembic`
- Generate migrations: `alembic revision --autogenerate -m "description"`
- NEVER modify database schema manually
- ALWAYS review autogenerated migrations before applying
- Write reversible migrations (both upgrade and downgrade)
- Test migrations in development before production
- Name migrations descriptively
- Keep migrations small and focused
- NEVER edit applied migrations
- Include data migrations when needed

### Query Standards

**MANDATORY: Follow these query practices**
- Use async queries exclusively
- Use SQLAlchemy query API (NO raw SQL without approval)
- Use select() statements with proper type hints
- Implement pagination for ALL list endpoints
- Use eager loading (joinedload, selectinload) to avoid N+1 queries
- Use database transactions for multi-step operations
- Implement proper error handling for database operations
- Use connection pooling
- Close sessions properly